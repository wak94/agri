# åœ¨ x è½´ä¸Šæœ‰ä¸€ä¸ªä¸€ç»´çš„èŠ±å›­ã€‚èŠ±å›­é•¿åº¦ä¸º nï¼Œä»ç‚¹ 0 å¼€å§‹ï¼Œåˆ°ç‚¹ n ç»“æŸã€‚ 
# 
#  èŠ±å›­é‡Œæ€»å…±æœ‰ n + 1 ä¸ªæ°´é¾™å¤´ï¼Œåˆ†åˆ«ä½äº [0, 1, ..., n] ã€‚ 
# 
#  ç»™ä½ ä¸€ä¸ªæ•´æ•° n å’Œä¸€ä¸ªé•¿åº¦ä¸º n + 1 çš„æ•´æ•°æ•°ç»„ ranges ï¼Œå…¶ä¸­ ranges[i] ï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰è¡¨ç¤ºï¼šå¦‚æœæ‰“å¼€ç‚¹ i å¤„çš„æ°´é¾™å¤´ï¼Œå¯
# ä»¥çŒæº‰çš„åŒºåŸŸä¸º [i - ranges[i], i + ranges[i]] ã€‚ 
# 
#  è¯·ä½ è¿”å›å¯ä»¥çŒæº‰æ•´ä¸ªèŠ±å›­çš„ æœ€å°‘æ°´é¾™å¤´æ•°ç›® ã€‚å¦‚æœèŠ±å›­å§‹ç»ˆå­˜åœ¨æ— æ³•çŒæº‰åˆ°çš„åœ°æ–¹ï¼Œè¯·ä½ è¿”å› -1 ã€‚ 
# 
#  
# 
#  ç¤ºä¾‹ 1ï¼š 
# 
#  
# 
#  
# è¾“å…¥ï¼šn = 5, ranges = [3,4,1,1,0,0]
# è¾“å‡ºï¼š1
# è§£é‡Šï¼š
# ç‚¹ 0 å¤„çš„æ°´é¾™å¤´å¯ä»¥çŒæº‰åŒºé—´ [-3,3]
# ç‚¹ 1 å¤„çš„æ°´é¾™å¤´å¯ä»¥çŒæº‰åŒºé—´ [-3,5]
# ç‚¹ 2 å¤„çš„æ°´é¾™å¤´å¯ä»¥çŒæº‰åŒºé—´ [1,3]
# ç‚¹ 3 å¤„çš„æ°´é¾™å¤´å¯ä»¥çŒæº‰åŒºé—´ [2,4]
# ç‚¹ 4 å¤„çš„æ°´é¾™å¤´å¯ä»¥çŒæº‰åŒºé—´ [4,4]
# ç‚¹ 5 å¤„çš„æ°´é¾™å¤´å¯ä»¥çŒæº‰åŒºé—´ [5,5]
# åªéœ€è¦æ‰“å¼€ç‚¹ 1 å¤„çš„æ°´é¾™å¤´å³å¯çŒæº‰æ•´ä¸ªèŠ±å›­ [0,5] ã€‚
#  
# 
#  ç¤ºä¾‹ 2ï¼š 
# 
#  
# è¾“å…¥ï¼šn = 3, ranges = [0,0,0,0]
# è¾“å‡ºï¼š-1
# è§£é‡Šï¼šå³ä½¿æ‰“å¼€æ‰€æœ‰æ°´é¾™å¤´ï¼Œä½ ä¹Ÿæ— æ³•çŒæº‰æ•´ä¸ªèŠ±å›­ã€‚
#  
# 
#  
# 
#  æç¤ºï¼š 
# 
#  
#  1 <= n <= 10â´ 
#  ranges.length == n + 1 
#  0 <= ranges[i] <= 100 
#  
# 
#  Related Topics è´ªå¿ƒ æ•°ç»„ åŠ¨æ€è§„åˆ’ ğŸ‘ 143 ğŸ‘ 0
from typing import List


# leetcode submit region begin(Prohibit modification and deletion)
class Solution:
    def minTaps(self, n: int, ranges: List[int]) -> int:
        intervals = []
        inf = n + 2
        for i, x in enumerate(ranges):
            intervals.append([max(0, i - x), min(n, i + x)])
        intervals.sort()
        dp = [inf] * (n + 1)
        dp[0] = 0
        for start, end in intervals:
            # [0,start]æ— æ³•è¦†ç›–è¿”å›-1
            if dp[start] == inf:
                return -1
            for j in range(start, end + 1):
                dp[j] = min(dp[j], 1 + dp[start])
        return dp[n]
# leetcode submit region end(Prohibit modification and deletion)
